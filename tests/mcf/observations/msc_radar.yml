%YAML 1.1
---

#pygeometa mcf info
mcf:
    version: 1.0

msc-metadata:
#   # need a code list
   phase:
   publish-to:
        - ECDC:
          url:
          authorization:
            date: 2020-07
            director: Laurent Chardon
            reference: https://wiki.cmc.ec.gc.ca/images/a/aa/ECDC_authorization_metadata_202007_signed
        - open.canada.ca:
          url:
   data_stewards:
        - name: Ahmed Mahidjiba
          status: confirmed
          email: ahmed.mahidjiba@canada.ca
          note: Implementation and Operational services - Radar (CMOI-R)

# Inheriting contact information from main-contact.yml
base_mcf: ../shared/contact-main.yml

metadata:
    charset: utf8
    hierarchylevel: dataset
    # Identifier, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/UUID , URL USED: https://weather.gc.ca/radar/
    identifier: bd1500e5-7000-53e2-963e-718801fc16e0
    # Primary language of the record, metadata still supports multiple languages
    language: en
    language_alternate: fr
    # The following $date$ value is updated when pygeometa is ran
    datestamp: $date$
    # dataseturi is optional according to the HNAP Guidelines, but is mandatory for pygeometa
    #### Next line will be updated according once we to the MSC Data Taxonomy...
    dataseturi: urn:x-msc-smc:md:weather-meteo::radar
    # parentidentifier is conditional to an existing higher level
    # parentidentifier=someparentid -> NO PARENT ID for the generic nwp.gdps dataset

spatial:
    datatype: grid
    geomtype: point

identification:
    # Primary language, metadata records are both in English and French when appropriate
    language: eng; CAN
    charset: utf8
    # Title source is: https://wiki.cmc.ec.gc.ca/wiki/CPOP/Liste_des_systemes
    title:
        en: North American Radar Mosaic
        fr: Mosaïque radar Nord-Américaine
    # No information (LP)
    abstract:
        en: Composite of American and Canadian weather radars updated every 10 minutes
        fr: Mosaïque des radars météorologiques Canadiens et Américains mise-à-jour aux 10 minutes

    dates:
        # Date when the model became publicly accessible
        # Source: provided by Norm Paulsen by email
# the next value is obviously wrong, Alex has asked Ahmed which value to use on 2019-11-22
        creation: 1871-01-01
        # The following $date$ value is updated when pygeometa is ran
        publication: $date$

    keywords:
        default:
            # No non-CST keywords specified for this dataset
            keywords:
                en:
                    - Atmospheric conditions
                    - Meteorology
                    - Weather
                fr:
                    - Conditions atmosphériques
                    - Métérologie
                    - Temps
        # A minimum of one keyword from http://www.thesaurus.gc.ca/default.asp?lang=En&n=EAEAD1E6-1 is required
        gc_cst:
            # keywords_type is constrained by a list
            keywords_type: theme
            # For gc_cst keywords, see https://wiki.cmc.ec.gc.ca/wiki/DPS/Metadata/Keywords
            keywords:
                en:
                    - Radar
                    - Remote sensing
                    - Weather
                fr:
                    - Radar
                    - Télédétection
                    - Temps (Météorologie)

        # Amongst the possible values from ECDC: Air, Air - Quality, Other, Pollution and Waste, Water, Weather and Climate   => French counterparts: Temps et climat

        hnap_category_information:
            keywords:
                en:
                    - Weather and Climate
                fr:
                    - Temps et climat
        # Amongst the possible values from ECDC: International  => French counterparts: Internationale
        hnap_category_geography:
            keywords:
                en:
                    - National (CA)
                fr:
                    - Nationale (CA)
        # Amongst the possible values from ECDC: Atmosphere => French counterparts: Atmosphère
        hnap_category_content:
            keywords:
                en:
                    - Atmosphere
                fr:
                    - Atmosphère
        # From WMO Core Metadata Profile Category codelist: https://github.com/wmo-im/wcmp-codelists/blob/main/codelists/WMO_CategoryCode.csv
        wmo:
            keywords:
                en:
                    - weatherObservations
            keywords_type: theme
            vocabulary:
                name:
                    en: WMO Category Code
                url: https://github.com/wmo-im/wcmp-codelists/blob/main/codelists/WMO_CategoryCode.csv


    # topiccategory value is constrained by a list, fixed to climatologyMeteorologyAtmosphere
    topiccategory:
        - climatologyMeteorologyAtmosphere
    extents:
        spatial:
            # Radar coverage is for all Canadian and american radars. Radar coverage derived from the radar coverage layer
            - bbox: [-170.11, 11.38, 146.94, 67.11]
              crs: 4326
        temporal:
            # begin is mandatory, for ongoing datasets it is set to the day it first became available
            # the next value is obviously wrong, Alex has asked Ahmed which value to use on 2019-11-22
            - begin: 1871-01-01
              end: now
    fees: None
    accessconstraints: otherRestrictions
    rights:
        en: Open Government Licence - Canada (https://open.canada.ca/en/open-government-licence-canada)
        fr: Licence du gouvernement ouvert - Canada (https://ouvert.canada.ca/fr/licence-du-gouvernement-ouvert-canada)

    # The next URL points to the html documentation, if any, otherwise, to the data source
    # Generic documentation link, likely pertinent to update once the radar data documentation is available on canada.ca
    url:
        en: https://eccc-msc.github.io/open-data/msc-data/obs_radar/readme_radar_en/
        fr: https://eccc-msc.github.io/open-data/msc-data/obs_radar/readme_radar_fr/
    status: onGoing
    # Best fit amongst the possible options, see MCF_Reference.md
    maintenancefrequency: continual


distribution:
    waf_eng-CAN: &id_waf_eng-CAN
        base_mcf: ../shared/distribution-datamart.yml
        url: https://dd.weather.gc.ca/radar/
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format:
            en: GIF
            fr: GIF
        format_version:
    waf_fra-CAN:
        <<: *id_waf_eng-CAN
        url: https://dd.meteo.gc.ca/radar/
    wms_eng-CAN: &id_wms_eng-CAN
        base_mcf: ../shared/distribution-geomet.yml
        url: https://geo.weather.gc.ca/geomet?lang=en&service=WMS&request=GetCapabilities&layers=RADAR_RRAI
        # For WMS, name_en and name_fr are the 'default layer' associated to the dataset
        name:
            en: Radar precipitation rate (Rain) (4 km) [mm/h]
            fr: Taux de précipitation radar (Pluie) (4 km) [mm/h]
    wms_fra-CAN:
        <<: *id_wms_eng-CAN
        url: https://geo.weather.gc.ca/geomet?lang=fr&service=WMS&request=GetCapabilities&layers=RADAR_RRAI
    amqps_eng-CAN: &id_amqps_eng-CAN
        base_mcf: ../shared/distribution-datamart-amqps.yml
        # Example value for url: amqps://dd.weather.gc.ca/model_gem_global.25km.grib2.#
        url: amqps://dd.weather.gc.ca/radar.#
        # Accepted values for format: AI. AMF,Application,ASCII Grid,BMP,CDED ASCII,CDR,CSV,DOC,dxf,E00,ECW,EDI,EMF,EPS,ESRI REST,EXE,FGDB / GDB,Flat raster binary,GeoPDF,GeoRSS,GeoTIF,GIF,GML,HDF,HTML,IATI,JPEG 2000,JPG,JSON,JSON Lines,KML / KMZ,NetCDF,ODP,ODS,ODT,PDF,PNG,PPT,RDF,RDFa,RSS,SAR / CCT,SAV,SEGY,SHP,SQL,SVG,TIFF,TXT,XLS,XLSM,XML,WFS,WMS,WMTS,Zip,Other
        format:
            en: GIF
            fr: GIF
        format_version:
    amqps_fra-CAN:
        <<: *id_amqps_eng-CAN
        url: amqps://dd.meteo.gc.ca/radar.#
